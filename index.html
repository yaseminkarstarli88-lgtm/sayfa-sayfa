<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sayfa Sayfa</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin:0; padding:0;
    transition: background 0.3s, color 0.3s;
  }

  /* KaranlÄ±k tema */
  body.dark {
    background: #121212;
    color: #fff;
  }

  header {
    padding: 1rem;
    background: #4a90e2;
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  /* Animasyonlu Sayfa Sayfa baÅŸlÄ±ÄŸÄ± */
  #animated-title {
    font-size: 1.5rem;
    font-weight: bold;
    overflow: hidden;
    white-space: nowrap;
  }
  #animated-title span {
    display: inline-block;
    transform: translateY(100%);
    animation: slide 0.5s forwards;
  }
  #animated-title span:nth-child(1) { animation-delay: 0s; }
  #animated-title span:nth-child(2) { animation-delay: 0.1s; }
  #animated-title span:nth-child(3) { animation-delay: 0.2s; }
  #animated-title span:nth-child(4) { animation-delay: 0.3s; }
  #animated-title span:nth-child(5) { animation-delay: 0.4s; }
  #animated-title span:nth-child(6) { animation-delay: 0.5s; }
  #animated-title span:nth-child(7) { animation-delay: 0.6s; }
  #animated-title span:nth-child(8) { animation-delay: 0.7s; }
  #animated-title span:nth-child(9) { animation-delay: 0.8s; }
  #animated-title span:nth-child(10){ animation-delay: 0.9s; }

  @keyframes slide {
    to { transform: translateY(0); }
  }

  /* Arama kutusu + + butonu */
  #search-container {
    display: flex;
    align-items: center;
  }

  #search-input {
    padding: 4px 8px;
    font-size: 0.9rem;
    margin-right: 8px;
  }

  #add-btn {
    padding: 4px 8px;
    cursor: pointer;
  }

  /* Dinamik kategori baÅŸlÄ±ÄŸÄ± */
  #category-title {
    text-align: center;
    font-size: 1.2rem;
    margin: 10px 0;
    font-weight: bold;
  }

  #book-list {
    display: flex;
    flex-wrap: wrap;
    padding: 1rem;
    gap: 10px;
    justify-content: center;
  }

  .book-card {
    width: 150px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
    cursor: pointer;
    transition: transform 0.2s;
    background: white;
    text-align: center;
  }

  .book-card:hover {
    transform: scale(1.05);
  }

  body.dark .book-card {
    background: #1e1e1e;
    border-color: #555;
  }

  /* Modal */
  .modal {
    display: none;
    position: fixed;
    z-index: 10;
    left:0; top:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.6);
    justify-content: center;
    align-items: center;
  }

  .modal-content {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    max-width: 400px;
    width: 90%;
    text-align: center;
  }

  body.dark .modal-content {
    background: #222;
    color: #fff;
  }

  .star {
    font-size: 1.5rem;
    cursor: pointer;
    color: gray;
  }

  .star.active {
    color: gold;
  }

  /* Tema butonu */
  #theme-btn {
    position: fixed;
    right: 10px;
    bottom: 10px;
    padding: 8px;
    cursor: pointer;
    border-radius: 50%;
    background: #4a90e2;
    color: white;
  }
</style>
</head>
<body>

<header>
  <div id="animated-title">
    <span>S</span><span>a</span><span>y</span><span>f</span><span>a</span> 
    <span>S</span><span>a</span><span>y</span><span>f</span><span>a</span>
  </div>
  <div id="search-container">
    <input type="text" id="search-input" placeholder="Ara...">
    <button id="add-btn">+</button>
  </div>
</header>

<!-- Dinamik kategori baÅŸlÄ±ÄŸÄ± -->
<div id="category-title">TÃ¼m Kitaplar</div>

<div id="book-list"></div>

<!-- Modal -->
<div id="book-modal" class="modal">
  <div class="modal-content">
    <h2 id="modal-title"></h2>
    <p id="modal-author"></p>
    <p id="modal-desc"></p>
    <div id="modal-stars">
      <span class="star" data-star="1">&#9733;</span>
      <span class="star" data-star="2">&#9733;</span>
      <span class="star" data-star="3">&#9733;</span>
      <span class="star" data-star="4">&#9733;</span>
      <span class="star" data-star="5">&#9733;</span>
    </div>
    <button id="close-modal">Kapat</button>
  </div>
</div>

<!-- Tema Butonu -->
<button id="theme-btn">ðŸŒ“</button>

<script>
  // KalÄ±cÄ± tema
  const themeBtn = document.getElementById('theme-btn');
  if(localStorage.getItem('theme') === 'dark') document.body.classList.add('dark');
  themeBtn.addEventListener('click', () => {
    document.body.classList.toggle('dark');
    localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark':'light');
  });

  // Kitap verileri JSON
  const books = [
    {
      "title":"Kitap 1",
      "author":"Yazar 1",
      "description":"Kitap aÃ§Ä±klamasÄ± 1",
      "category":"Felsefe RafÄ±"
    },
    {
      "title":"Kitap 2",
      "author":"Yazar 2",
      "description":"Kitap aÃ§Ä±klamasÄ± 2",
      "category":"Edebiyat DÃ¼nyasÄ±"
    }
    // Buraya yeni kitaplar JSON olarak eklenebilir
  ];

  const bookList = document.getElementById('book-list');
  const searchInput = document.getElementById('search-input');
  const categoryTitle = document.getElementById('category-title');

  let currentCategory = "TÃ¼m Kitaplar";

  function renderBooks(filter="") {
    bookList.innerHTML = "";
    const filtered = books.filter(b=>{
      const matchText = b.title.toLowerCase().includes(filter.toLowerCase()) || b.author.toLowerCase().includes(filter.toLowerCase());
      const matchCat = (currentCategory==="TÃ¼m Kitaplar") || b.category === currentCategory;
      return matchText && matchCat;
    });
    filtered.forEach((book,index)=>{
      const card = document.createElement('div');
      card.className = "book-card";
      card.innerHTML = `<strong>${book.title}</strong><br><small>${book.author}</small>`;
      card.addEventListener('click', ()=>openModal(index));
      bookList.appendChild(card);
    });
  }

  searchInput.addEventListener('input', ()=>renderBooks(searchInput.value));

  renderBooks();

  // Modal + yÄ±ldÄ±z
  const modal = document.getElementById('book-modal');
  const modalTitle = document.getElementById('modal-title');
  const modalAuthor = document.getElementById('modal-author');
  const modalDesc = document.getElementById('modal-desc');
  const modalStars = document.getElementById('modal-stars');

  function openModal(index){
    const book = books[index];
    modalTitle.textContent = book.title;
    modalAuthor.textContent = book.author;
    modalDesc.textContent = book.description;
    // YÄ±ldÄ±zlar
    Array.from(modalStars.children).forEach(star=>{
      star.classList.remove('active');
      star.onclick = ()=>{
        const val = star.dataset.star;
        Array.from(modalStars.children).forEach(s=>{
          s.classList.toggle('active', s.dataset.star <= val);
        });
      }
    });
    modal.style.display = "flex";
  }

  document.getElementById('close-modal').addEventListener('click', ()=> modal.style.display="none");

  // Kategori deÄŸiÅŸtirme fonksiyonu
  function setCategory(cat){
    currentCategory = cat;
    categoryTitle.textContent = cat;
    renderBooks(searchInput.value);
  }

  // Ã–rnek kategori geÃ§iÅŸi: TÄ±klama ile deÄŸiÅŸtirilebilir
  // setCategory("Edebiyat DÃ¼nyasÄ±");

</script>

</body>
</html>
